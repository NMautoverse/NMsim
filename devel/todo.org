* NMsim todo

** general

*** DONE Setting for paths to executables
Path to nonmem, psn, other ways to exec.

*** DONE Fork NMwriteSection from NMdata
** NMsim
*** TODO If path.nonmem is not supplied, use psn?
*** TODO Fix broken reuse.results
*** DONE Reduce number of needed arguments
**** DONE seed
**** DONE suffix.sim
*** DONE Use NMdataConf for dir.psn and path.nonmem
*** DONE reuse.results should not depend on itself
*** DONE Create simulations dir if create.dir=TRUE
If not, throw error if dir.sim does not exist
*** DONE Support non-data.table workflows
**** DONE use NMdata's as.fun
*** DONE Rename type.input to type.mod
*** TODO Revise input data paths
Currently, NMsimData... goes together with NMsim....  It would be
better for svn if the first part of the filenames were aligned. Also,
do we need to archive input data as _input as well in this case?
*** DONE Test if control stream exists
The error used to come from NMextractDataFile which is not intuitive
to the user. Now a check is included in both NMexec and NMsim.
*** DONE support multiple models
*** DONE arg for transformation of sim results
*** DONE Arg to control whether simulation is run
sometimes one may want to do a different simulation than the
standard - say with PSN sse. In that case one still want the sim to be
configured but not run.
*** DONE Support abbreviations
$COV $COVARIANCE $EST $ESTIMATION $SIM $SIMULATION

Maybe this should be done in NMwriteSection/NMreadSection instead.
*** DONE Support using a ready-made sim model
No modifications needed to control stream except $INPUT and $TABLE
*** DONE Improve reuse.results
to method to compare all arguments to what's on file

The implementation compares all explicitly given arguments. E.g. if
a=1 by default and it was explicitly given in previous run but not in
the new one, it will be a difference.
*** DONE Support multiple $TABLE blocks
** NMcreateDoses
*** TODO II/ADDL should only be applied to last event.
addl.lastonly argument?
*** DONE TIME must be full length
*** TODO No NA's should be allowed anywhere? Or?
*** TODO if a cov is found in multiple arguments, it must span same values

*** DONE Should CMT have a default? Or be required?
For now, required

*** TODO avoid hard coding variable names

*** TODO N is another arg 
If ID not in covs, everything is replicated. It can be a data.table
too, meaning that we replicate within covariates. Maybe we have to be
able to use a known set of ID's and covs? Or use ID?
@param ID ID's to replicate for. Default is 1. Use NULL to omit.

** addEVID2
*** TODO Order the same way as NMdata::addTAPD?
currently, addEVID2 does not order rows after adding simulation records
** plain nonmem run
*** DONE Create dir, Copy files into it
Called NMexecDirectory
** DONE NMupdateInitsFix
New function that fixes THETA, OMEGA, SIGMA based on ext.
With this, there is no dependency on PSN 
